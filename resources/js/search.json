[[{"l":"Hush! \uD83E\uDD2B","p":["Hush! is a small tool to facilitate the sharing of .env files between developers without having to send them over Teams messages. It uses the AWS SecretsManager to store a new secret for each of your .env files.","With Hush!, you can finally store secrets like API tokens or passwords securely.","If you're unsure where to start using Hush!, we recommend the Installation guide. Or maybe you're feeling adventurous and would like to deploy your first secret or take a look at the commands Hush! offers."]},{"l":"Built with","p":["AWS TypeScript"]},{"l":"Links","p":["Github Repository","Documentation"]}],[{"l":"Installation","p":["To install Hush! for use in your project, install it like this:","yarn add -D hush-cli","npm install --dev hush-cli","Before using Hush! make sure to select your AWS profile!","Before running either of the commands Hush! provides, it's important to select your AWS profile by running export AWS_PROFILE=your-profile-name in the shell. If you don't have an AWS profile for your command line yet, create one first using this guide."]}],[{"l":"Deploying Your First Secret","p":["After installing Hush! in your project, it's time to push your first secret to the AWS cloud!","To do so, it's important to select your AWS profile by running export AWS_PROFILE=your-profile-name in the shell. If you don't have an AWS profile for your command line yet, create one first using this guide.","Let's say you have a file called .env with the following content:","To make this file available to your fellow devs, you would run the following command:","yarn hush push my-first-hush ./.env","npx hush push my-first-hush ./.env","And that's it! Your secret file is now managed by Hush! in the AWS cloud. Your fellow devs can pull your changes by using the following command.","yarn hush pull my-first-hush ./.env","npx hush pull my-first-hush ./.env"]}],[{"l":"Version Control in Hush","p":["Hush implements a version control system that ensures developers avoid conflicts from using different versions."]},{"l":"Overview","p":["The version control system in Hush works on three levels:","Secret Versioning: Each secret in AWS SecretsManager is automatically versioned","Local Version Tracking: The .hushrc.json file tracks local versions","Conflict Prevention: Automatic checks before push operations"]},{"l":"Local Version Tracking"},{"l":".hushrc.json File","p":["Hush automatically creates a .hushrc.json file in your project directory:","Note:","The .hushrc.json file is automatically updated during pull operations","The .hushrc.json file is used for conflict checking during push operations"]},{"l":"Version Control in Push Operations"},{"l":"Automatic Version Checking","p":["With every hush push, the system goes through the following process:","Retrieve Current Version: Loads the current version from AWS SecretsManager","Check Local Version: Compares with the version in .hushrc.json","Conflict Detection: Warns about conflicts and prevents unintended overwrites","Version Increment: Automatically increases the version number by 1","Update Local Tracking: Updates the .hushrc.json file"]},{"l":"Example Push Workflow"},{"l":"Version Control in Pull Operations"},{"l":"Pull Workflow","p":["Read Local File: Analyzes the current .env file","Retrieve Remote Version: Loads the latest version from AWS","Detect Changes: Compares local and remote versions","Request Confirmation: Shows changes before overwriting","Update Version: Updates .hushrc.json after successful pull"]}],[{"l":"Commands","p":["Command","Delete the given Hush! secret in AWS.","Description","Grant access to a secret to another user.","hush cat","hush delete","hush grant","hush list","hush pull","hush push","hush revoke","List all Hush! secrets that your current AWS profile has access to.","Outputs the secrets contained in a Hush!-managed secret.","Pull the newest version of the .env file from AWS.","Push your local version of the .env file to AWS.","Revoke access to a secret from another user."]}],[{"l":"hush push","p":["To push the contents of a .env file, use the push command:","yarn hush push key envFile","So for example:","yarn hush push joern-prod ./.env","All keys get prefixed with hush- in the AWS SecretsManager to avoid namespace pollution.","You can also provide an optional parameter -m, --message to provide a sort of \"commit message\" for the current version of your secret.","Additionally, you can use the -f, --force parameter to bypass version checking. By default, Hush checks the local .hushrc.json file to ensure you're working with the latest version before pushing. If a version conflict is detected, you'll be prompted to run hush pull first. The --force flag skips this validation and allows you to push regardless of version conflicts."]}],[{"l":"hush pull","p":["To update the local contents of a .env file, use the pull command:","yarn hush pull key envFile","So for example:","yarn hush pull joern-prod ./.env","All keys get prefixed with hush- in the AWS SecretsManager to avoid namespace pollution.","If the newly pulled version of the .env file contains additions, changes, or deletions, your local .env file will not be overwritten. You can review those changes and then re-run the command with the --force flag."]}],[{"l":"hush cat","p":["This command outputs all contained secrets for one .env file managed by Hush!","This is useful for quickly seeing the contents of a .env file before pulling."]}],[{"l":"hush list","p":["This command lists all Hush! secrets that the current AWS profile has access to.","It displays the following fields for each secret:","Name","Last push message","Updated at","Secrets count","Please note that the Name has the \"hush-\" prefix attached to it."]}],[{"l":"hush grant","p":["Not illustrated in a gif to not expose secret information.","To grant another IAM user in the same AWS account access to your secret, use the grant command like this:","yarn hush grant joern-prod user-identifier","user-identifier has to be either an AWS ARN or a username for a user that shares an AWS account with you."]}],[{"l":"hush revoke","p":["Not illustrated in a gif to not expose secret information.","To prevent another IAM user in the same AWS account from accessing your secret, use the revoke command like this:","yarn hush revoke joern-prod user-identifier","user-identifier has to be either an AWS ARN or a username for a user that shares an AWS account with you.","Please keep in mind that users with higher privileges than you might still be able to access the secrets."]}],[{"l":"hush delete","p":["To delete a secret, use the delete command:","yarn hush delete key","So for example:","yarn hush delete joern-prod","You can specify the --force parameter to force the deletion of the secret without scheduling the deletion for a later date."]}],[{"l":"Contributors","p":["Image","Name","Team","E-Mail","JÃ¶rn Meyer","Funkeys++","joern.meyer@kernpunkt.de","Ingo Hachelbusch","The Beards","ingo.hachelbusch@kernpunkt.de"]}]]